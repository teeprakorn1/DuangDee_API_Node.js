CREATE DATABASE DuangDee COLLATE utf8_general_ci;
USE DuangDee;

SELECT * FROM RegisType;
SELECT * FROM UsersType;
SELECT * FROM UsersGender;
SELECT * FROM Users;
SELECT * FROM Zodiac;

CREATE TABLE RegisType(
	RegisType_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    RegisType_Name VARCHAR(127) NOT NULL
);

CREATE TABLE UsersType(
	UsersType_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    UsersType_Name VARCHAR(127) NOT NULL
);

CREATE TABLE UsersGender(
	UsersGender_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    UsersGender_Name VARCHAR(127) NOT NULL
);

CREATE TABLE Users(
	Users_ID INT NOT NULL AUTO_INCREMENT UNIQUE PRIMARY KEY,
    Users_Username VARCHAR(127) UNIQUE,
    Users_Password VARCHAR(63),
    Users_DisplayName VARCHAR(127),
    Users_FirstName VARCHAR(127),
    Users_LastName VARCHAR(127),
    Users_Email VARCHAR(127) UNIQUE,
    Users_Phone VARCHAR(15),
    Users_BirthDate DATE,
    Users_RegisDate DATETIME DEFAULT CURRENT_TIMESTAMP,
    Users_ImageFile VARCHAR(255),
    Users_Google_Uid VARCHAR(127) UNIQUE,
    UsersGender_ID TINYINT DEFAULT 3,
    RegisType_ID TINYINT NOT NULL DEFAULT 1,
    UsersType_ID TINYINT NOT NULL DEFAULT 1,
    Users_IsActive BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (UsersGender_ID) REFERENCES UsersGender(UsersGender_ID),
    FOREIGN KEY (RegisType_ID) REFERENCES RegisType(RegisType_ID),
    FOREIGN KEY (UsersType_ID) REFERENCES UsersType(UsersType_ID)
);

CREATE TABLE Zodiac(
	Zodiac_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Zodiac_Name VARCHAR(127) NOT NULL,
    Zodiac_Detail VARCHAR(511),
    Zodiac_ImageFile VARCHAR(255),
    Zodiac_WorkTopic VARCHAR(511),
    Zodiac_FinanceTopic VARCHAR(511),
    Zodiac_LoveTopic VARCHAR(511),
    Zodiac_Score TINYINT
);

INSERT INTO RegisType (RegisType_Name)
VALUES('GENERAL'),('GMAIL');

INSERT INTO UsersType (UsersType_Name)
VALUES('USER'),('ADMIN');

INSERT INTO UsersGender (UsersGender_Name)
VALUES('MALE'),('FEMALE'),('OTHER');